@use "settings.breakpoints";

.c-case-study {
  margin: calc(var(--v-page-margin) * 2) var(--v-page-margin);

  @media (min-width: settings.$bp-md) {
    margin: var(--v-page-margin);
  }
}

.c-case-study__section:not(:last-child) {
  margin-bottom: var(--space-xl);
}

.c-case-study__section--sm:not(:last-child) {
  margin-bottom: var(--space-lg);
}

.c-case-study__section--2-column {
  @media (min-width: settings.$bp-md) {
    display: flex;
  }
}

.c-case-study__section.full-width {
  margin-inline: calc(-1 * var(--v-page-margin));
  
  @media (min-width: settings.$bp-md) {
    display: flex;
    flex-direction: column;
  }
}

.c-case-study__section.crop {
  @media (max-width: settings.$bp-md) {
    height: 24rem;
  }

  & .c-video {
    @media (max-width: settings.$bp-md) {
      height: 24rem;
    }
  }
}

.c-case-study__caption {
  margin-top: 2rem;

  @media (min-width: settings.$bp-md) {
    max-width: 60ch;
    margin-top: -0.25rem;
    margin-bottom: 4rem;
  }
  
  .c-case-study__section--2-column & {
    // Adjustments for captions beside images
    @media (min-width: settings.$bp-md) {
      margin-bottom: 0;
      width: calc(max(22vw, 200px));
      margin-left: 5%;
    }
  }
}

.c-case-study__section--2-column.reverse {

  & .c-case-study__image-container {
    order: 2;
  }

  & .c-case-study__caption {
    order: 1;

    @media (min-width: settings.$bp-md) {
      margin-right: 5%;
      margin-left: 0;
    }
  }
}

.c-case-study__image-container {
  flex: 1 1 60%;

  & .gatsby-image-wrapper:not(:last-child) {
    margin-bottom: 2rem;
  }
}

.c-case-study__image-container--with-caption {
  & .gatsby-image-wrapper:not(:last-child) {
    margin-bottom: 1rem;
  }
}

.c-case-study__video {
  max-width: 800px;
}

.c-case-study__sticky-text {
  @media (min-height: 600px) {
    position: sticky;
    top: 15vh;
  }
}

.c-case-study .t-heading-4:not(:first-child) {
  margin-top: 2.5rem;
  margin-bottom: 0.5rem;
}

.c-case-study .t-paragraph:not(:last-child) {
  margin-bottom: 1.7rem;
}
